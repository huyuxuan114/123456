<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr. Hu 可控核聚变技术研究</title>
    <style>
        :root {
            --black: #0a0a0a;
            --gold: #d4af37;
            --dark-gold: #b8860b;
            --light-gold: #f0e68c;
            --white: #f5f5f5;
            --glow: rgba(212,175,55,0.8);
            --fire: #ff4500;
            --plasma: #ff00ff;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: var(--black);
            color: var(--white);
            line-height: 1.6;
            overflow-x: hidden;
        }
        header {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(to bottom, var(--black), #1a1a1a);
            color: var(--gold);
            overflow: hidden;
        }
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, var(--glow) 0%, transparent 70%);
            animation: explosivePulse 3s infinite;
            z-index: 2;
        }
        header > * {
            position: relative;
            z-index: 3;
        }
        h1 {
            font-size: 7em;
            font-weight: 900;
            margin: 0;
            letter-spacing: -0.06em;
            text-shadow: 0 0 40px var(--glow), 0 0 60px var(--fire), 0 0 80px var(--plasma);
            animation: explosiveFadeIn 2.5s ease-out, glitch 1s infinite alternate;
        }
        header p {
            font-size: 2.5em;
            margin: 40px 0 60px;
            max-width: 900px;
            opacity: 0.95;
            text-shadow: 0 0 15px var(--glow), 0 0 25px var(--fire);
        }
        nav {
            position: absolute;
            top: 50px;
            width: 100%;
            display: flex;
            justify-content: center;
            z-index: 4;
        }
        nav a {
            color: var(--gold);
            text-decoration: none;
            margin: 0 35px;
            font-size: 1.4em;
            opacity: 0.9;
            transition: opacity 0.5s, transform 0.5s;
        }
        nav a:hover {
            opacity: 1;
            transform: scale(1.2) rotate(10deg);
            text-shadow: 0 0 20px var(--glow);
        }
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 120px 60px;
        }
        .section {
            margin-bottom: 180px;
            position: relative;
        }
        h2 {
            font-size: 4em;
            font-weight: 800;
            text-align: center;
            margin-bottom: 80px;
            color: var(--gold);
            text-shadow: 0 0 20px var(--glow), 0 0 30px var(--fire);
            animation: fadeIn 2s ease-in, glitch 0.5s infinite alternate;
        }
        .intro {
            display: flex;
            align-items: center;
            gap: 100px;
            animation: explosiveSlideIn 2.5s ease-out;
        }
        .intro img {
            width: 50%;
            border-radius: 30px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.8), 0 0 50px var(--glow), 0 0 70px var(--plasma);
            transition: transform 0.7s, box-shadow 0.7s;
        }
        .intro img:hover {
            transform: translateY(-20px) rotate(5deg) scale(1.05);
            box-shadow: 0 50px 100px rgba(0,0,0,0.9), 0 0 70px var(--glow), 0 0 90px var(--fire);
        }
        .intro-text {
            flex: 1;
        }
        .intro-text p {
            font-size: 1.4em;
            opacity: 0.9;
            text-shadow: 0 0 10px var(--glow);
        }
        #research ul {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 50px;
        }
        #research li {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5), inset 0 0 15px var(--glow);
            text-align: center;
            transition: transform 0.6s, box-shadow 0.6s;
            cursor: pointer;
        }
        #research li:hover {
            transform: translateY(-20px) scale(1.15) rotate(3deg);
            box-shadow: 0 30px 60px rgba(212,175,55,0.4), inset 0 0 30px var(--fire);
        }
        .timeline {
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px;
        }
        .timeline-item {
            background: rgba(255,255,255,0.1);
            padding: 35px;
            margin: 50px 0;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            position: relative;
            animation: explosiveFadeInUp 2s ease-out;
            transition: background 0.5s, transform 0.5s;
        }
        .timeline-item:hover {
            background: rgba(212,175,55,0.2);
            transform: scale(1.1) rotate(2deg);
        }
        .timeline-item::before {
            content: attr(data-year);
            position: absolute;
            top: -25px;
            left: 50px;
            background: var(--gold);
            color: var(--black);
            padding: 12px 25px;
            border-radius: 35px;
            font-size: 1.3em;
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
        }
        .word-cloud {
            height: 600px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            background: rgba(0,0,0,0.6);
            border-radius: 30px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.7);
        }
        .word-cloud span {
            position: absolute;
            color: var(--gold);
            opacity: 0.8;
            transition: all 0.7s;
            cursor: pointer;
            text-shadow: 0 0 15px var(--glow), 0 0 25px var(--plasma);
        }
        .word-cloud span:hover {
            opacity: 1;
            transform: scale(1.4) rotate(15deg);
            text-shadow: 0 0 30px var(--glow), 0 0 40px var(--fire);
        }
        .pendulum {
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 60px;
        }
        .pendulum-ball {
            width: 60px;
            height: 60px;
            background: var(--gold);
            border-radius: 50%;
            position: absolute;
            bottom: 0;
            animation: explosiveSwing 2.5s infinite ease-in-out alternate;
            box-shadow: 0 0 40px var(--glow), 0 0 60px var(--fire), 0 0 80px var(--plasma);
        }
        .pendulum-line {
            width: 4px;
            height: 300px;
            background: linear-gradient(var(--gold), var(--fire));
            position: absolute;
            top: 0;
            transform-origin: top center;
            animation: explosiveSwing 2.5s infinite ease-in-out alternate;
        }
        #stellarator {
            height: 100vh;
            position: relative;
            background: linear-gradient(to bottom, #000, #111);
            border-radius: 30px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.9), inset 0 0 70px var(--glow);
            overflow: hidden;
        }
        #stellarator-canvas {
            width: 100%;
            height: 100%;
        }
        .stellarator-controls {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            display: flex;
            gap: 30px;
        }
        .stellarator-controls button {
            background: var(--gold);
            color: var(--black);
            padding: 15px 30px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.4s, box-shadow 0.4s;
        }
        .stellarator-controls button:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 0 30px var(--glow);
        }
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 50px;
        }
        .news-item {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            transition: transform 0.6s;
        }
        .news-item:hover {
            transform: translateY(-15px) rotate(3deg) scale(1.05);
        }
        form {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            gap: 30px;
        }
        input, textarea {
            padding: 25px;
            border: 3px solid var(--gold);
            border-radius: 20px;
            font-size: 1.2em;
            background: rgba(255,255,255,0.05);
            color: var(--white);
            box-shadow: inset 0 0 15px var(--glow);
        }
        button {
            background: var(--gold);
            color: var(--black);
            padding: 25px;
            border: none;
            border-radius: 20px;
            font-size: 1.3em;
            cursor: pointer;
            transition: background 0.5s, transform 0.5s;
        }
        button:hover {
            background: var(--fire);
            transform: scale(1.15) rotate(10deg);
        }
        footer {
            text-align: center;
            padding: 70px 20px;
            background: linear-gradient(to top, var(--black), #1a1a1a);
            color: var(--light-gold);
            font-size: 1.1em;
            box-shadow: 0 -30px 60px rgba(0,0,0,0.6);
        }
        @keyframes explosivePulse {
            0% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
            100% { opacity: 0.5; transform: scale(1); }
        }
        @keyframes explosiveFadeIn {
            0% { opacity: 0; transform: translateY(150px) scale(0.7); }
            60% { opacity: 1; transform: translateY(-30px) scale(1.1); }
            100% { transform: translateY(0) scale(1); }
        }
        @keyframes glitch {
            0% { text-shadow: 0.05em 0 0 #ff00ff, -0.03em -0.04em 0 #00ff00, 0.04em 0.03em 0 #0000ff; }
            14% { text-shadow: 0.05em 0 0 #ff00ff, -0.03em -0.04em 0 #00ff00, 0.04em 0.03em 0 #0000ff; }
            15% { text-shadow: -0.05em -0.025em 0 #ff00ff, 0.025em 0.035em 0 #00ff00, -0.05em -0.05em 0 #0000ff; }
            49% { text-shadow: -0.05em -0.025em 0 #ff00ff, 0.025em 0.035em 0 #00ff00, -0.05em -0.05em 0 #0000ff; }
            50% { text-shadow: 0.025em 0.05em 0 #ff00ff, 0.05em 0 0 #00ff00, 0 -0.04em 0 #0000ff; }
            99% { text-shadow: 0.025em 0.05em 0 #ff00ff, 0.05em 0 0 #00ff00, 0 -0.04em 0 #0000ff; }
            100% { text-shadow: -0.025em 0 0 #ff00ff, -0.025em -0.025em 0 #00ff00, -0.04em 0.05em 0 #0000ff; }
        }
        @keyframes explosiveSlideIn {
            from { opacity: 0; transform: translateX(-300px) rotate(-15deg); }
            to { opacity: 1; transform: translateX(0) rotate(0); }
        }
        @keyframes explosiveFadeInUp {
            from { opacity: 0; transform: translateY(150px) scale(0.8); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        @keyframes explosiveSwing {
            from { transform: rotate(-60deg); }
            to { transform: rotate(60deg); }
        }
        @media (max-width: 768px) {
            header h1 { font-size: 5em; }
            .intro { flex-direction: column; }
            .intro img { width: 100%; }
            .word-cloud { height: 500px; }
            #stellarator { height: 80vh; }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
    <header>
        <div id="particles-js"></div>
        <nav>
            <a href="#intro">简介</a>
            <a href="#research">研究</a>
            <a href="#stellarator">拟星机互动</a>
            <a href="#achievements">成就</a>
            <a href="#projects">项目</a>
            <a href="#news">新闻</a>
            <a href="#contact">联系</a>
        </nav>
        <h1>Mr. Hu</h1>
        <p>引爆星辰之怒，点燃永恒烈焰——可控核聚变，人类的终极征服史诗！</p>
    </header>

    <div class="container">
        <section id="intro" class="section intro">
            <div class="intro-text">
                <h2>关于 Mr. Hu</h2>
                <p>Mr. Hu，一位燃烧的核物理传奇与发明狂人，投身于可控核聚变技术的爆炸性革命。他从清华大学物理系崛起，在国际原子能机构统领风云。他的终极野心是通过聚变风暴，铸就无尽烈焰能源，粉碎全球气候枷锁与能源黑暗！</p>
                <p>Mr. Hu 的狂野征程融合量子狂暴、材料熔炉与工程爆破，指挥全球联盟，引领聚变从虚幻梦魇冲向毁灭性现实！</p>
            </div>
            <img src="https://img3.jiemian.com/101/original/20160131/145422596533370100_a700xH.jpg" alt="Mr. Hu 爆炸肖像">
        </section>

        <section id="research" class="section">
            <h2>研究领域</h2>
            <ul>
                <li>托卡马克装置优化：引爆等离子体狂怒之盾</li>
                <li>等离子体约束技术：征服磁场末日风暴</li>
                <li>激光惯性约束聚变：点燃星辰毁灭之火</li>
                <li>中子通量控制与安全系统：守护聚变地狱之门</li>
                <li>聚变燃料循环创新：永恒氚氘炼狱之轮</li>
                <li>超导材料应用：低温中的聚变灭世交响</li>
                <li>AI辅助模拟：预言聚变末日命运</li>
            </ul>
            <div class="word-cloud" id="wordCloud"></div>
        </section>

        <section id="stellarator" class="section">
            <h2>拟星机互动装置</h2>
            <p style="text-align: center; font-size: 1.8em; margin-bottom: 50px; text-shadow: 0 0 15px var(--glow);">撕裂星辰之心，释放聚变狂怒——拖拽旋转，感受毁灭能量风暴！</p>
            <div id="stellarator">
                <canvas id="stellarator-canvas"></canvas>
                <div class="stellarator-controls">
                    <button onclick="toggleRotation()">切换旋转</button>
                    <button onclick="resetView()">重置视角</button>
                    <button onclick="explodeParticles()">引爆粒子</button>
                </div>
            </div>
        </section>

        <section id="achievements" class="section">
            <h2>研究成就</h2>
            <div class="timeline">
                <div class="timeline-item" data-year="2015">发表首篇聚变约束论文，开启毁灭理论纪元</div>
                <div class="timeline-item" data-year="2018">发明新型磁约束装置，斩获国际专利狂焰</div>
                <div class="timeline-item" data-year="2022">实现实验室级聚变点火，能量爆发摧毁输入</div>
                <div class="timeline-item" data-year="2025">申请全球聚变反应堆专利，迈向商业末日</div>
                <div class="timeline-item" data-year="2026">统领国际聚变联盟，筑就首个示范炼狱反应堆</div>
            </div>
            <div class="pendulum">
                <div class="pendulum-line"></div>
                <div class="pendulum-ball"></div>
            </div>
            <p style="text-align: center; margin-top: 40px; font-size: 1.3em;">象征聚变能量的永恒狂暴与毁灭平衡</p>
        </section>

        <section id="projects" class="section">
            <h2>当前项目</h2>
            <div class="news-grid">
                <div class="news-item">
                    <h3>聚变反应堆原型</h3>
                    <p>铸造模块化聚变炼狱之心，目标2028年净能量征服宇宙。</p>
                </div>
                <div class="news-item">
                    <h3>国际合作倡议</h3>
                    <p>联手欧盟与美国实验室，共享聚变末日数据之海。</p>
                </div>
                <div class="news-item">
                    <h3>教育与培训</h3>
                    <p>推出在线炼狱课程，铸就下一代聚变毁灭者。</p>
                </div>
                <div class="news-item">
                    <h3>可持续能源联盟</h3>
                    <p>推动聚变融入全球绿色毁灭革命。</p>
                </div>
            </div>
        </section>

        <section id="news" class="section">
            <h2>最新新闻</h2>
            <div class="news-grid">
                <div class="news-item">
                    <h3>2025年突破</h3>
                    <p>Mr. Hu 团队刷新聚变持续纪录，引爆世界震颤。</p>
                </div>
                <div class="news-item">
                    <h3>获奖荣誉</h3>
                    <p>荣膺诺贝尔物理学奖提名，永恒狂焰之光。</p>
                </div>
                <div class="news-item">
                    <h3>未来展望</h3>
                    <p>2030年前筑成商用聚变电站，点燃星河末日。</p>
                </div>
                <div class="news-item">
                    <h3>可持续发展</h3>
                    <p>聚变如何助力联合国永恒毁灭目标。</p>
                </div>
                <div class="news-item">
                    <h3>技术演示</h3>
                    <p>拟星机原型首秀，炼狱级视觉狂宴。</p>
                </div>
            </div>
        </section>

        <section id="contact" class="section">
            <h2>联系我们</h2>
            <form>
                <input type="text" placeholder="您的姓名">
                <input type="email" placeholder="您的邮箱">
                <textarea placeholder="您的消息" rows="8"></textarea>
                <button type="submit">发送</button>
            </form>
        </section>
    </div>

    <footer>
        <p>&copy; 2025 Mr. Hu Fusion Research. 所有权利保留 | 为中国核聚变事业发展做出伟大贡献 | 聚变狂焰，永不熄灭！--胡宇轩 | 中国科技研究院四川分院</p>
    </footer>

    <script>
        // Particles.js 配置 - 英雄部分粒子背景
        particlesJS('particles-js', {
            "particles": {
                "number": { "value": 200, "density": { "enable": true, "value_area": 800 } },
                "color": { "value": ["#d4af37", "#ff4500", "#ff00ff"] },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.8, "random": true, "anim": { "enable": true, "speed": 1 } },
                "size": { "value": 5, "random": true, "anim": { "enable": true, "speed": 4 } },
                "line_linked": { "enable": true, "distance": 150, "color": "#d4af37", "opacity": 0.4, "width": 1 },
                "move": { "enable": true, "speed": 6, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
                "modes": { "repulse": { "distance": 200, "duration": 0.4 }, "push": { "particles_nb": 4 } }
            },
            "retina_detect": true
        });

        // 平滑滚动
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // 词条云
        const words = ['聚变', '等离子体', '托卡马克', '激光', '中子', '燃料', '超导', 'AI', '模拟', '能量', '可持续', '创新', '拟星机', '磁场', '点火', '狂焰', '毁灭', '风暴'];
        const cloud = document.getElementById('wordCloud');
        words.forEach((word, i) => {
            const span = document.createElement('span');
            span.textContent = word;
            span.style.fontSize = `${Math.random() * 3 + 2}em`;
            span.style.left = `${Math.random() * 100}%`;
            span.style.top = `${Math.random() * 100}%`;
            span.style.animation = `epicFloat ${Math.random() * 20 + 15}s infinite alternate`;
            cloud.appendChild(span);
        });

        // 添加浮动动画 keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes epicFloat {
                0% { transform: translate(0, 0) rotate(0); }
                50% { transform: translate(${Math.random() * 40 - 20}px, ${Math.random() * 40 - 20}px) rotate(${Math.random() * 30 - 15}deg); }
                100% { transform: translate(0, 0) rotate(0); }
            }
        `;
        document.head.appendChild(style);

        // 拟星机互动装置 - 增强版Three.js
        let scene, camera, renderer, controls, stellarator, particles, explosionParticles;
        let rotationEnabled = true;
        let exploding = false;

        function initStellarator() {
            const container = document.getElementById('stellarator');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('stellarator-canvas'), antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.shadowMap.enabled = true;

            // 增强灯光 - 电影级照明与爆炸辉光
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            const pointLight = new THREE.PointLight(0xd4af37, 3, 1000);
            pointLight.position.set(0, 0, 200);
            pointLight.castShadow = true;
            scene.add(pointLight);
            const fireLight = new THREE.PointLight(0xff4500, 2, 500);
            fireLight.position.set(100, 100, 100);
            scene.add(fireLight);
            const plasmaLight = new THREE.PointLight(0xff00ff, 2, 500);
            plasmaLight.position.set(-100, -100, 100);
            scene.add(plasmaLight);

            // 拟星机模型 - 扭曲TorusKnot
            const geometry = new THREE.TorusKnotGeometry(10, 3, 200, 32, 2, 3);
            const material = new THREE.MeshPhongMaterial({
                color: 0xd4af37,
                emissive: 0xb8860b,
                shininess: 150,
                wireframe: false,
                side: THREE.DoubleSide
            });
            stellarator = new THREE.Mesh(geometry, material);
            stellarator.castShadow = true;
            stellarator.receiveShadow = true;
            scene.add(stellarator);

            // 等离子体粒子 - 增强数量和动画
            const particleGeometry = new THREE.BufferGeometry();
            const particleCount = 10000; // 增加粒子数
            const positions = new Float32Array(particleCount * 3);
            for (let i = 0; i < particleCount * 3; i++) {
                positions[i] = (Math.random() - 0.5) * 60;
            }
            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            const particleMaterial = new THREE.PointsMaterial({
                color: 0xf0e68c,
                size: 0.3,
                blending: THREE.AdditiveBlending,
                transparent: true,
                depthTest: false
            });
            particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);

            // 爆炸粒子系统
            const explosionGeometry = new THREE.BufferGeometry();
            const explosionCount = 5000;
            const expPositions = new Float32Array(explosionCount * 3);
            for (let i = 0; i < explosionCount * 3; i++) {
                expPositions[i] = 0;
            }
            explosionGeometry.setAttribute('position', new THREE.BufferAttribute(expPositions, 3));
            const explosionMaterial = new THREE.PointsMaterial({
                color: 0xff4500,
                size: 0.5,
                blending: THREE.AdditiveBlending,
                transparent: true
            });
            explosionParticles = new THREE.Points(explosionGeometry, explosionMaterial);
            scene.add(explosionParticles);

            camera.position.z = 50;

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = false;
            controls.minDistance = 10;
            controls.maxDistance = 100;

            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });

            animateStellarator();
        }

        function animateStellarator() {
            requestAnimationFrame(animateStellarator);
            controls.update();

            if (rotationEnabled) {
                stellarator.rotation.y += 0.01;
                particles.rotation.y += 0.005;
                explosionParticles.rotation.y += 0.005;
            }

            // 粒子脉动
            const positions = particles.geometry.attributes.position.array;
            for (let i = 0; i < positions.length; i += 3) {
                positions[i] += (Math.random() - 0.5) * 0.2;
                positions[i+1] += (Math.random() - 0.5) * 0.2;
                positions[i+2] += (Math.random() - 0.5) * 0.2;
            }
            particles.geometry.attributes.position.needsUpdate = true;

            // 爆炸动画
            if (exploding) {
                const expPositions = explosionParticles.geometry.attributes.position.array;
                for (let i = 0; i < expPositions.length; i += 3) {
                    expPositions[i] += (Math.random() - 0.5) * 2;
                    expPositions[i+1] += (Math.random() - 0.5) * 2;
                    expPositions[i+2] += (Math.random() - 0.5) * 2;
                }
                explosionParticles.geometry.attributes.position.needsUpdate = true;
            }

            renderer.render(scene, camera);
        }

        function toggleRotation() {
            rotationEnabled = !rotationEnabled;
        }

        function resetView() {
            controls.reset();
            camera.position.set(0, 0, 50);
            exploding = false;
        }

        function explodeParticles() {
            exploding = !exploding;
        }

        initStellarator();
    </script>
</body>
</html>